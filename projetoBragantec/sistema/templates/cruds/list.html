{% extends "cruds/list.html" %}
{% load i18n %}
{% load crud_tags %}

{% block title %}Lista de {{ model_verbose_name_plural }}{% endblock %}
{% block page_description %}{% if blocks.page_description %}{{ blocks.page_description }}{% else %}{% trans "Lista de" %} {{ model_verbose_name_plural|lower }}{% endif %}{% endblock %}

{% block thead %}
	{% for field, field_name in fields.items %}
	{% if field  != 'password' and field != 'first_name' and field != 'last_login' and field != 'is_superuser' and field != 'username' and field != 'last_name' and field != 'is_staff' and field != 'is_active' and field != 'date_joined' %}

		<th class="th-field-{{ field|lower }} th-fieldtype-{{ field_name.1|lower }}">{{ field_name.0 }}</th>
	{% endif %}
	{% endfor %}
	<th>{% trans "Ações" %}</th>
{% endblock thead %}

{% block tbody %}
{% for object in object_list %}
<tr>
  {% for field, field_name in fields.items %}
  {% if field  != 'password' and field != 'first_name' and field != 'last_login' and field != 'is_superuser' and field != 'username' and field != 'last_name' and field != 'is_staff' and field != 'is_active' and field != 'date_joined' %}
  <td class="td-field-{{ field|lower }} td-fieldtype-{{ field_name.1|lower }}">
    {% with column=field_name.1|lower|add:".html" %}
        {% include "cruds/columns/"|add:column %}
    {% endwith %}
    {# typefield #}
  </td>
  {% endif %}
  {% endfor %}
  <td>
    {% block actions %}
      {% crud_url object "detail" namespace as url %}
        {% if url and 'detail' in views_available and crud_perms.detail %}
        <a href="{{ url }}{{getparams}}" class="btn btn-success">{% trans "Mostrar" %}</a>
        {% endif %}
        {% crud_url object "update" namespace as url %}
        {% if url and 'update' in views_available and crud_perms.update %}
        <a href="{{ url }}{{getparams}}" class="btn btn-primary">{% trans "Editar" %}</a>
        {% endif %}
        {% crud_url object "delete" namespace as url %}
        {% if url and 'delete' in views_available and crud_perms.delete %}
        <a href="{{ url }}{{getparams}}" class="btn btn-danger">{% trans "Deletar" %}</a>
        {% endif %}
    {% endblock %}
  </td>
</tr>
{% endfor %}
{% endblock tbody %}